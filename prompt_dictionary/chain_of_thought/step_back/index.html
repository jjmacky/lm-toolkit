
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../thread_of_thought/">
      
      
        <link rel="next" href="../../additional_resources/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.27">
    
    
      
        <title>Step-back Prompting - The Language Model Toolkit</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.6543a935.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css?v=1.0.1">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="The Language Model Toolkit" class="md-header__button md-logo" aria-label="The Language Model Toolkit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The Language Model Toolkit
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Step-back Prompting
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jjmacky/lm-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jjmacky/lm-toolkit
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  Prompt Dictionary

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../synthetic_data/basic_tutorial_1/airbnb_rewriting/" class="md-tabs__link">
          
  
  Synthetic data

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../podcast_episodes/ai_n_stuff_episodes/" class="md-tabs__link">
        
  
    
  
  Podcast episodes

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../support_me/" class="md-tabs__link">
        
  
    
  
  Support my work

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="The Language Model Toolkit" class="md-nav__button md-logo" aria-label="The Language Model Toolkit" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    The Language Model Toolkit
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jjmacky/lm-toolkit" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    jjmacky/lm-toolkit
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Prompt Dictionary
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Prompt Dictionary
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to the Prompt Dictionary!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Zero-shot prompting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Zero-shot prompting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview of zero-shot prompting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/assumption_consideration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Assumption Consideration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/emotion_prompting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Emotion Prompting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/plain_vanilla/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Plain Vanilla
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/rephrase_and_respond/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rephrase and Respond (RaR)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/rereading/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rereading (Re2)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/role_prompting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Role Prompting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/self_ask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Self-ask
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/simtom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SimToM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/solo_performance_prompting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solo Performance Prompting (SPP)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/style_prompting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Style Prompting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/system_2_attention/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    System 2 Attention (S2A)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../zero_shot/whiteboard_of_thought/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Whiteboard-of-Thought (WoT)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Few-shot prompting
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Few-shot prompting
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../few_shot/kate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    KATE (kNN-Augmented in-conText Example selection)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" checked>
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chain-of-thought
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Chain-of-thought
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../thread_of_thought/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thread of Thought (ThoT)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Step-back Prompting
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Step-back Prompting
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-proposed" class="md-nav__link">
    <span class="md-ellipsis">
      First proposed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      How to use it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      When to use it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-know" class="md-nav__link">
    <span class="md-ellipsis">
      What to know
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replication" class="md-nav__link">
    <span class="md-ellipsis">
      Replication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methodology" class="md-nav__link">
    <span class="md-ellipsis">
      Methodology
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results" class="md-nav__link">
    <span class="md-ellipsis">
      Results
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-watch-out-for" class="md-nav__link">
    <span class="md-ellipsis">
      What to watch out for
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citations" class="md-nav__link">
    <span class="md-ellipsis">
      Citations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompting" class="md-nav__link">
    <span class="md-ellipsis">
      Prompting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prompt-template" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompt template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stem-physics-example" class="md-nav__link">
    <span class="md-ellipsis">
      STEM physics example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="STEM physics example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-step-back-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      1. Step-back prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reasoning-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reasoning prompt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#knowledge-qa-example" class="md-nav__link">
    <span class="md-ellipsis">
      Knowledge QA example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Knowledge QA example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-step-back-prompt_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. Step-back prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reasoning-prompt_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reasoning prompt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-example" class="md-nav__link">
    <span class="md-ellipsis">
      API example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../additional_resources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Additional prompting resrouces
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Synthetic data
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Synthetic data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../synthetic_data/basic_tutorial_1/airbnb_rewriting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic synthetic data creation tutorial
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../podcast_episodes/ai_n_stuff_episodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Podcast episodes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../support_me/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support my work
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-proposed" class="md-nav__link">
    <span class="md-ellipsis">
      First proposed
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      How to use it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#when-to-use-it" class="md-nav__link">
    <span class="md-ellipsis">
      When to use it
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-know" class="md-nav__link">
    <span class="md-ellipsis">
      What to know
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replication" class="md-nav__link">
    <span class="md-ellipsis">
      Replication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Replication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#methodology" class="md-nav__link">
    <span class="md-ellipsis">
      Methodology
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#results" class="md-nav__link">
    <span class="md-ellipsis">
      Results
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Best practices
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-to-watch-out-for" class="md-nav__link">
    <span class="md-ellipsis">
      What to watch out for
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citations" class="md-nav__link">
    <span class="md-ellipsis">
      Citations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prompting" class="md-nav__link">
    <span class="md-ellipsis">
      Prompting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prompt-template" class="md-nav__link">
    <span class="md-ellipsis">
      Prompt template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Prompt template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stem-physics-example" class="md-nav__link">
    <span class="md-ellipsis">
      STEM physics example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="STEM physics example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-step-back-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      1. Step-back prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reasoning-prompt" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reasoning prompt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#knowledge-qa-example" class="md-nav__link">
    <span class="md-ellipsis">
      Knowledge QA example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Knowledge QA example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-step-back-prompt_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. Step-back prompt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-reasoning-prompt_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Reasoning prompt
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-example" class="md-nav__link">
    <span class="md-ellipsis">
      API example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
<h1>Step-back Prompting</h1>

<p class="page-date">Published on: 8  July 2024</p>
 <h2 id="overview">Overview</h2>
<p>Step-back Prompting is a technique that asks large language models (LLMs) to perform abstractions to derive high-level concepts and first principles from instances containing specific details. By using these concepts and principles to guide reasoning, LLMs may be able to better follow a correct reasoning path towards a solution.</p>
<h2 id="first-proposed">First proposed</h2>
<p>Step-back Prompting was proposed in October 2023 by Huaixiu Steven Zheng, Swaroop Mishra, Xinyun Chen, Heng-Tze Cheng, Ed H. Chi, Quoc V Le, and Denny Zhou in the paper <a href="https://arxiv.org/abs/2310.06117">"Take a Step Back: Evoking Reasoning via Abstraction in Large Language Models"</a>.</p>
<h2 id="how-to-use-it">How to use it</h2>
<p>Step-back Prompting involves two main steps when interacting with an LLM:</p>
<ol>
<li>
<p>The step-back prompt</p>
<ul>
<li>Prompt the language model with a step-back question asking it to reason about the principles at play in a solution rather than the solution itself.</li>
<li>Have the language model respond with relevant facts about the high-level concept or principle.</li>
</ul>
</li>
<li>
<p>The reasoning prompt</p>
<ul>
<li>Pass the principles from the step-back prompt along with the original question to the language model.</li>
<li>Have the model produce a final solution.</li>
</ul>
</li>
</ol>
<p>See <a href="#prompting">"Prompting"</a> and section for usage details.</p>
<h2 id="when-to-use-it">When to use it</h2>
<div class="admonition tip">
<p class="admonition-title">When to use Step-back Prompting</p>
<ul>
<li>Ideal for complex tasks that benefit from abstracting to higher-level concepts or principles before reasoning about specifics.</li>
<li>Effective for knowledge-intensive questions where recalling general information first can help guide the specific answer.</li>
<li>Particularly useful for multi-step reasoning tasks where breaking down the problem into abstract concepts can simplify the reasoning process.</li>
<li>Applicable across various domains including STEM, knowledge QA, and multi-hop reasoning tasks.</li>
</ul>
</div>
<h2 id="what-to-know">What to know</h2>
<p>Step-back Prompting is a technique that aims to improve language model reasoning by mimicking the human process of abstraction. The method involves two key steps: Stepping back, where the LLM generates a more abstract question related to the original query, and Reasoning, where the LLM uses information from the abstract question to guide its reasoning on the original query. This approach is designed to help language models identify relevant high-level concepts and principles before attempting to solve specific problems.</p>
<p><img alt="An image of how Step-back Prompting works." src="../../../images/cot/step_back_1.png" /></p>
<p>The technique is based on the idea that abstracting complex problems can reduce cognitive load and activate relevant knowledge that might not be immediately apparent from specific details. The authors found that a single demonstration example was typically sufficient for language models to learn the abstraction process, suggesting that this skill is relatively easy for these models to acquire through in-context learning. While the approach showed improvements across various tasks such as STEM problems and QA knowledge and model families, it's important to note that performance gains may vary depending on the specific task and model used. Notably, the approach was only tested on large language models of 70 billion parameters and up, leaving its effectiveness on smaller models an open question.</p>
<h2 id="replication">Replication</h2>
<p>I conducted a partial replication using the 151-question MMLU high-school physics dataset also used by Zheng et al. The replication tested Step-back Prompting against traditional Chain-of-Thought (CoT) prompting across three models of various sizes from different providers not tested in the original paper.</p>
<p>The full code and project files used for the replication are available <a href="https://github.com/jjmacky/lm-toolkit/tree/main/code/prompt_dictionary/cot/step_back">here</a>. The main Python notebook is available <a href="https://github.com/jjmacky/lm-toolkit/blob/main/code/prompt_dictionary/cot/step_back/step_back.ipynb">here</a>.</p>
<h3 id="methodology">Methodology</h3>
<ol>
<li>Step-back prompts were constructed with one exemplar, following the findings of Zheng et al.</li>
<li>These prompts were used to elicit principles for each of the 151 physics questions, following Table 7 in Section C.1 of the original paper.</li>
<li>The elicited principles, original questions, and a complete exemplar were then passed to the model for a final answer, as per Table 8 in Section D.1.</li>
<li>Claude Sonnet 3.5 was used as a judge to determine if the model solution matched the original solution.</li>
</ol>
<h3 id="results">Results</h3>
<p>Contrary to the findings in the original paper, Step-back Prompting did not consistently outperform traditional CoT in this replication. Notably, for GPT-3.5 Turbo, Step-back Prompting performed 10 percentage points worse than standard CoT.</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Step Back Accuracy</th>
<th>Standard CoT Accuracy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Llama3 (8B)</td>
<td>22.5%</td>
<td>20.5%</td>
</tr>
<tr>
<td>Gemini Flash</td>
<td>58.9%</td>
<td>61.6%</td>
</tr>
<tr>
<td>GPT-3.5 Turbo</td>
<td>33.1%</td>
<td>43.0%</td>
</tr>
</tbody>
</table>
<p>These results suggest that the effectiveness of Step-back Prompting may vary depending on the specific model and task, and may not generalize uniformly across all large language models.</p>
<h2 id="best-practices">Best practices</h2>
<div class="admonition tip">
<p class="admonition-title">Best practices for Step-back Prompting</p>
<ul>
<li>Provide clear instructions for both the abstraction and reasoning steps.</li>
<li>Use few-shot examples to demonstrate the desired abstraction and reasoning process (the authors found that one exemplar is sufficient).</li>
<li>Consider combining Step-back Prompting with other techniques like retrieval-augmented generation (RAG) for knowledge-intensive tasks.</li>
<li>Implement error handling and validation to manage potential issues in the abstraction or reasoning steps.</li>
<li>Ensure that the abstraction step doesn't introduce errors or biases not present in the original query.</li>
</ul>
</div>
<h2 id="what-to-watch-out-for">What to watch out for</h2>
<div class="admonition warning">
<p class="admonition-title">What to watch out for with Step-back Prompting</p>
<ul>
<li>The quality of the abstraction can significantly impact the final answer. Poor abstractions may lead to irrelevant or misleading reasoning.</li>
<li>Some simple queries may not benefit from abstraction and could be answered more efficiently directly.</li>
<li>The technique may require more computation time and resources compared to direct questioning, especially for complex tasks.</li>
<li>Performance improvements may vary depending on the specific task and model used.</li>
<li>There's a risk of over-abstraction, potentially losing important details from the original query.</li>
</ul>
</div>
<h2 id="citations">Citations</h2>
<p>Zheng, H. S., Mishra, S., Chen, X., Cheng, H. T., Chi, E. H., Le, Q. V., &amp; Zhou, D. (2024). Take a Step Back: Evoking Reasoning via Abstraction in Large Language Models. <a href="https://arxiv.org/abs/2310.06117">arXiv preprint arXiv:2310.06117v2</a>.</p>
<h2 id="prompting">Prompting</h2>
<p>The Step-back Prompting template instructs the model to first generate a more abstract question related to the original query, and then use this abstraction to guide its reasoning. The template consists of two main parts:
1. Step-back prompt:
- Ask the model to generate a more general or high-level question related to the original query.</p>
<ol>
<li>Instructions for reasoning:</li>
<li>Instruct the model to use the information from the abstract question to answer the original query.</li>
</ol>
<h3 id="prompt-template">Prompt template</h3>
<h4 id="stem-physics-example">STEM physics example</h4>
<h5 id="1-step-back-prompt">1. Step-back prompt</h5>
<blockquote>
<p>You are an expert at Physics.<br>
You are given a Physics problem.<br>
Your task is to extract the Physics concepts and principles involved in solving the problem.<br>
<br>
Here is an example: {exemplar}<br>
<br>
Question: {question}<br>
Do not solve the problem. Only detail the principles and equations involved.<br>
Principles Involved:<br></p>
</blockquote>
<h5 id="2-reasoning-prompt">2. Reasoning prompt</h5>
<blockquote>
<p>You are an expert at Physics.<br>
You are given a Physics problem and a set of principles involved in solving the problem.<br>
Solve the problem step by step by following the principles.<br>
<br>
Here is an example: {exemplar}<br>
<br>
Question: {question}<br>
Principles Involved: {result from step-back prompt}<br>
Solution:<br></p>
</blockquote>
<h4 id="knowledge-qa-example">Knowledge QA example</h4>
<h5 id="1-step-back-prompt_1">1. Step-back prompt</h5>
<blockquote>
<p>You are an expert at world knowledge.<br>
Your task is to step back and paraphrase a question to a more generic step-back question, which is easier to answer.<br>
<br>
Here is an example: {exemplar}<br>
<br>
Question: {question}<br>
Do not solve the problem. Only detail the principles involved.<br>
Principles Involved:<br></p>
</blockquote>
<h5 id="2-reasoning-prompt_1">2. Reasoning prompt</h5>
<blockquote>
<p>You are an expert of world knowledge.<br>
I am going to ask you a question.<br>
Your response should be comprehensive and not contradicted with the following context if they are relevant.<br>
Otherwise, ignore them if they are not relevant.<br>
<br>
Here is an example: {exemplar}<br>
<br>
{optional additional retrieved info from database}<br>
Question: {question}<br>
Supporting question {result from step-back prompt}<br>
Answer:<br></p>
</blockquote>
<h3 id="api-example">API example</h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">openai</span> <span class="kn">import</span> <span class="n">OpenAI</span>

<span class="n">exemplar_question</span> <span class="o">=</span> <span class="s2">&quot;A microwave oven is connected to an outlet, 120 V, and draws a current of 2 amps. At what rate is energy being used by the microwave oven?&quot;</span>

<span class="n">exemplar_principles</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">The physics principles behind this question relate to electrical power and energy consumption. Here are the relevant principles and equations:</span>

<span class="s2">1. Ohm&#39;s Law: This fundamental principle relates voltage (V), current (I), and resistance (R) in an electrical circuit.</span>
<span class="s2">   V = I * R</span>

<span class="s2">2. Electrical Power: The rate at which electrical energy is transferred or converted in a circuit is given by the power equation.</span>
<span class="s2">   P = V * I</span>
<span class="s2">   Where:</span>
<span class="s2">   P is power in watts (W)</span>
<span class="s2">   V is voltage in volts (V)</span>
<span class="s2">   I is current in amperes (A)</span>

<span class="s2">3. Energy and Power Relationship: Energy is the capacity to do work, while power is the rate at which energy is transferred or work is done.</span>
<span class="s2">   E = P * t</span>
<span class="s2">   Where:</span>
<span class="s2">   E is energy in joules (J)</span>
<span class="s2">   P is power in watts (W)</span>
<span class="s2">   t is time in seconds (s)</span>

<span class="s2">4. Unit Conversions: Understanding the relationships between different units of power and energy might be relevant.</span>
<span class="s2">   1 kilowatt (kW) = 1000 watts (W)</span>
<span class="s2">   1 kilowatt-hour (kWh) = 3,600,000 joules (J)</span>

<span class="s2">5. Conservation of Energy: The principle that energy cannot be created or destroyed, only converted from one form to another. In this case, electrical energy is being converted to other forms (primarily heat and electromagnetic waves) in the microwave oven.</span>

<span class="s2">These principles and equations provide the foundation for calculating the rate at which energy is being used by an electrical appliance given its voltage and current draw.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">exemplar_solution</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Let&#39;s solve this problem step by step using the principles.</span>

<span class="s2">Given:</span>
<span class="s2">- Voltage (V) = 120 V</span>
<span class="s2">- Current (I) = 2 A</span>

<span class="s2">We need to find the rate at which energy is being used, which is equivalent to the power consumed by the microwave oven.</span>

<span class="s2">Step 1: Use the electrical power equation to calculate the power.</span>
<span class="s2">P = V * I</span>
<span class="s2">P = 120 V * 2 A</span>
<span class="s2">P = 240 W</span>

<span class="s2">Therefore, the microwave oven is using energy at a rate of 240 watts.</span>

<span class="s2">To express this in kilowatts, we can convert:</span>
<span class="s2">240 W = 0.24 kW</span>

<span class="s2">Conclusion: The microwave oven is using energy at a rate of 240 watts or 0.24 kilowatts.</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">current_question</span> <span class="o">=</span> <span class="s2">&quot;The plates of a capacitor are charged to a potential difference of 5 V. If the capacitance is 2 mF, what is the charge on the positive plate?&quot;</span>

<span class="n">get_principles_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">You are an expert at Physics.</span>
<span class="s2">You are given a Physics problem.</span>
<span class="s2">Your task is to extract the Physics concepts and principles involved in solving the problem.</span>
<span class="s2">Here is an example:</span>

<span class="s2">--- Example ----</span>
<span class="s2">Question: </span><span class="si">{</span><span class="n">exemplar_question</span><span class="si">}</span>
<span class="s2">Principles:</span><span class="si">{</span><span class="n">exemplar_principles</span><span class="si">}</span>
<span class="s2">--- End of Example ----</span>

<span class="s2">Question: </span><span class="si">{</span><span class="n">current_question</span><span class="si">}</span>
<span class="s2">Do not solve the problem. Only detail the principles and equations involved.</span>
<span class="s2">Principles Involved:</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="k">def</span> <span class="nf">call_gpt</span><span class="p">(</span><span class="n">prompt</span><span class="p">):</span>
    <span class="n">completion</span> <span class="o">=</span> <span class="n">openai_client</span><span class="o">.</span><span class="n">chat</span><span class="o">.</span><span class="n">completions</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-3.5-turbo&quot;</span><span class="p">,</span>
        <span class="n">messages</span><span class="o">=</span><span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">prompt</span><span class="p">}</span>
        <span class="p">]</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">completion</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="o">.</span><span class="n">content</span>


<span class="n">current_principles</span> <span class="o">=</span> <span class="n">call_gpt</span><span class="p">(</span><span class="n">get_principles_prompt</span><span class="p">)</span>

<span class="n">get_step_back_solution_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">You are an expert at Physics.</span>
<span class="s2">You are given a Physics problem and a set of principles involved in solving the problem.</span>
<span class="s2">Solve the problem step by step by following the principles.</span>
<span class="s2">Here is an example:</span>

<span class="s2">--- Example ----</span>
<span class="s2">Question: </span><span class="si">{</span><span class="n">exemplar_question</span><span class="si">}</span>
<span class="s2">Principles:</span><span class="si">{</span><span class="n">exemplar_principles</span><span class="si">}</span>
<span class="s2">Solution: </span><span class="si">{</span><span class="n">exemplar_solution</span><span class="si">}</span>
<span class="s2">--- End of Example ----</span>

<span class="s2">Question: </span><span class="si">{</span><span class="n">current_question</span><span class="si">}</span>
<span class="s2">Principles Involved: </span><span class="si">{</span><span class="n">current_principles</span><span class="si">}</span>
<span class="s2">Solution: </span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">final_solution</span> <span class="o">=</span> <span class="n">call_gpt</span><span class="p">(</span><span class="n">get_step_back_solution_prompt</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">final_solution</span><span class="p">)</span>
</code></pre></div> 
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 <a href="https://github.com/jjmacky"  target="_blank" rel="noopener">James McCammon</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy", "navigation.tabs", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.subtitle"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.ad660dcc.min.js"></script>
      
        <script src="../../../javascript/open_links_in_new_tab.js?v=1.0.1"></script>
      
    
  </body>
</html>